<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Purchase Confirmation</title>
    <meta http-equiv="refresh" content="5;url={{ url_for('home') }}">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .truck-image {
            background-color: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            min-height: 200px;
        }
        .truck-image img {
            max-height: 200px;
            object-fit: contain;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-r from-green-300 to-blue-500 text-center">
    <div class="bg-white shadow-md rounded-lg p-8 max-w-md w-full">
        <h2 class="text-2xl font-bold text-green-600 mb-4">Thank you for your purchase!</h2>

        <p class="text-gray-700 text-lg mb-2">Dear <strong>{{ name }}</strong>,</p>
        <p class="text-gray-700 text-md mb-4">
            You have successfully purchased a
            <strong>{{ truck.truck_name }} {{ truck.truck_model }}</strong>
            ({{ truck.truck_type }}) with load capacity <strong>{{ truck.load_capacity }} tons</strong>
            for <strong>â‚¹{{ '{:,}'.format(truck.price) }}</strong>.
        </p>
        <p class="text-gray-700 text-sm mb-2">
            Engine Power: <strong>{{ truck.engine_power }} bhp</strong> |
            Fuel: <strong>{{ truck.fuel_type }}</strong> |
            Axles: <strong>{{ truck.num_of_axles }}</strong> |
            Mileage: <strong>{{ truck.mileage }} km/l</strong> |
            Seating: <strong>{{ truck.seating_capacity }}</strong>
        </p>
        <div class="mb-4 truck-image">
            {% if truck.image_url %}
                <img src="{{ truck.image_url }}"
                     alt="{{ truck.truck_name }} {{ truck.truck_model }}"
                     class="w-full rounded-lg shadow"
                     onerror="this.onerror=null;this.src='/static/truck_images/truck.jpg';this.parentElement.classList.add('justify-center','items-center','flex-col');this.parentElement.innerHTML='<span class=\'text-gray-500 mb-2\'>Image not available</span><img src=\'/static/truck_images/truck.jpg\' class=\'w-3/4 h-auto\'>'">
            {% else %}
                <div class="text-gray-500 mb-2">Image not available</div>
                <img src="/static/truck_images/truck.jpg"
                     class="w-3/4 h-auto"
                     alt="Generic Truck image">
            {% endif %}
        </div>

        <p class="text-sm text-gray-500 mb-6">
            You will be redirected to the login page shortly...
        </p>

        <a href="{{ url_for('home') }}" class="text-white bg-green-500 hover:bg-green-600 px-4 py-2 rounded transition-all">
            Go to Login Now
        </a>
    </div>
</body>
</html>
